# Week2 (Chpater3)
## Ch3. 함수와 함수형 프로그래밍

## 3-1 함수 선언하고 호출하기
**1. 함수란 무엇인가?**

<br/>

**2. 함수의 구조 자세히 살펴보기**

   ![image](https://user-images.githubusercontent.com/59546818/139279059-20bf1ccf-9656-4a12-ac46-77a0b2a7471d.png)

   3️⃣ 매개변수 – (변수명) : (자료형)    4️⃣ 리턴 타입
    
  - 중괄호 안의 코드가 한줄이면 return문 생략 가능
  
    ex ) `fun sum(a: Int, b: int) : Int = a + b` 혹은 `fun sum(a: Int, b: int)  = a + b`
    
<br/>
    
**3. 함수 호출과 프로그램의 실행 순서** : main ➡ 함수 호출  ➡ 함수 실행 후 return

<br/>

**4. 함수 호출과 메모리**
함수 호출시 Stack에 Stack Fame이 생성, 이후 생성 순서 대로 소멸

<br/>

**5. 반환값이 없는 함수**
반환값 생략 가능, 명시적으로 표기시에는 `Unit` 활용 (자바의 void와 대응)

<br/>

**6. 매개변수 제대로 활용하기**

매개변수에 `email : String = “default”` 와 같이 default값 지정가능 <br/>
인자에서 값을 지정해주지 않았다면 앞에서부터 default 값이 할당되고, <br/>
email = “my@mail.com” 과 같이 지정도 가능(여러 개의 default 값이 있을 때 사용됨) <br/>

<br/>


**7. 매개변수의 개수가 고정되지 않은 함수 사용하기**

이와 같이 Vararg 키워드를 사용.


![image](https://user-images.githubusercontent.com/59546818/139281290-6723c853-ece2-4565-9c4f-16211b756701.png)


<br/>

## 3-2 함수형 프로그래밍
코틀린은 **함수형 프로그래밍**(FP : Fucntional Programming)과 **객체 지향 프로그래밍**(OOP : Object Oriented Programming)을 <br/>
모두 지원하는 **다중 패러다임 언어**이다. <br/>
(다중패러다임 언어: 한 가지 규칙에 얽매이지 않고 다양한 문법과 형식을 지원하는 언어를 말한다)

<br/>

**함수형 프로그래밍이란?**
- 순수함수를 작성하여 프로그램의 부작용을 줄이는 프로그래밍 기법.
- 함수형 프로그래밍에서는 람다식과 고차함수를 사용

**1. 순수함수**
- 같은 인자에 대하여 항상 같은 값을 반환 
- 함수 외부의 어떤 상태도 바꾸지 않음 
- 스레드에 사용해도 안전하다고 테스팅이 쉬운 장점을 가짐

**2. 람다식** 
- 다른 함수의 인자로 넘기는 함수
- 함수의 결괏값으로 반환하는 함수
- 변수에 저장하는 함수

**3. 일급 객체**
  - 함수형 프로그래밍에서는 함수를 일급 객체로 생각
  - 일급 객체란? <br/>
    a. 일급 객체는 함수의 인자로 전달할 수 있다. <br/>
    b. 일급 객체는 함수의 반환값에 사용할 수 있다. <br/>
    c. 일급 객체는 변수에 담을 수 있다. <br/>
  - 일급 함수 = 함수 + 일급객체 + 이름이 없음

**4. 고차함수**
  - 다른 함수를 인자로 사용하거나, 함수를 결괏값으로 반환하는 함수
![image](https://user-images.githubusercontent.com/59546818/139282131-50a2f937-b4e9-4f14-a9d5-c87f6975b322.png)

     

 
## 3-3 고차 함수와 람다식
**1. 고차 함수의 형태**

   1) 일반 함수를 인자나 반환값으로 사용하는 고차 함수
      - 인자로 활용 : ` val res2 = mul(sum(3,3), 3)`
      - 반환값으로 활용 : 함수 안에 `return sum(3,3)`

   2) 람다 함수를 인자나 반환값으로 사용하는 고차 함수
       <변수에 람다식 할당>
      - 변수 multi에 람다식을 할당하고, 해당 변수를 함수처럼 사용하는 예제
      - 위 예제에서는 선언 자료형을 생략을 했음.
      - 매개변수의 자료형을 생략하려면 multi의 자료형으로 (Int, Int) -> Int 를 붙여줘야함
      - 반환 자료형이 없는 경우 ` () -> Unit` 으로 표현
      - 매개변수가 하나만 있을 시 `(int) -> Int ` 
      - 중첩 람다식일 경우 `( ) -> ( ) -> Unit`
      - 매개변수에 람다식 함수를 이용 : 람다함수의 코드를 매개변수에서 지정
      - 인자와 반환값이 없는 람다식 함수 :  ` () -> Unit` or 생략

<br/>

**2. 람다식과 고차함수 호출하기**
기본형 변수 : 값이 복사되어 전달
참조형 변수 : 참조된 주소가 복사되어 전달
1) 값에 의한 호출 : 매개변수에 있는 람다 선호출, 이후 일반 함수 호출
2) 이름에 의한 호출 : 람다식 자체가 매개변수에 복사됨, 이후 일반 함수에서 람다식이 사용될 때 비로소 람다식 실행.
3) 다른 함수의 참조에 의한 일반 함수 호출 : 매개변수와 인자 구조가 동일한 경우 람다식 표현법이 간략화된 참조 기호 `::` 사용

<br/>

**3. 람다식의 매개변수**
1) 람다식에 매개변수가 없는 경우 : { } 안에 코드 작성
2) 람다식의 매개변수가 한 개인 경우 : `{ a -> “코드 작성 $a” }` 혹은 `{“코드작성 $it”}`
3) 람다식의 매개변수가 2개 이상인 경우  <br/>
`{ a, b -> “코드 작성 $a $b” }` 혹은 `{ _, b -> “코드 작성 $b” }`와 같이 '_'를 통해 생략 가능 <br/>
4) 일반 매개변수와 람다식 매개변수를 같이 사용하기 <br/>
`(일반변수, {람다식}` 혹은 `(일반변수) {람다식}` <br/>
두 번째 예시와 같이 람다식을 소괄호 밖으로 분리하려면, 람다식 매개변수가 마지막 인자로 위치해야됨 
5) 일반 함수에 람다식 매개변수를 2개 이상 사용하기 <br/>
`({람다식}, {람다식})` 혹은 `{(람다식)} {람다식}`

<br/><br/>

## 3-4 고차 함수와 람다식의 사례 알아보기
1. 동기화를 위한 코드 구현 구경하기 (Critical Section 관련) <br/>
java에서 lock 과 ReentrantLock 기능 제공

<br/>

2. 네트워크 호출 구현 구경하기 (콜백 함수 관련) <br/>
자바에서 사용한 인터페이스나 익명 객체 없이, 코틀린의 경우 람다식 형태로 간단히 구현 가능

<br/><br/>

## 3-5 코틀린의 다양한 함수 알아보기
**1. 익명 함수** 
- 이름이 없는 함수
- 람다식과 유사하나, 람다식에서 처리하기 힘든 return, break, continue를 제어 가능
- 람다식에서도 return@라벨이름을 통해 return문 사용가능


**2. 인라인 함수**
- 함수 분기 없이, 함수 본문의 내용을 복사해서 가져옴
- 람다식 매개변수를 가지고 있는 함수에서 동작한다.
1) 인라인 함수 제한하기
- noinline 키워드 사용하면 본기하여 호출
2) 인라인 함수와 비지역 반환
  - return문 사용 : 람다와 inline 함수 모두 종료된다
  - inline의 코드 복사 때문에 inline의 함수 까지 종료되는 현상을 비지역 반환이라고 함
  - crossline 키워드를 활용해 비지역 반환 금지 


**3. 확장 함수**
  - 기존 클래스에 내가 원하는 함수를 하나 더 포함시켜 확장하는 것


**4. 중위 함수**
- 클래스의 멤버를 호출할 때 사용하는 점(.)을 생략함
- 함수 이름 뒤에 소괄호를 붙이지 않음
- 비트 연산자에서 사용


**5. 꼬리 재귀 함수**
- 기존 재귀 함수가 stack에 쌓이는 방식과 다르게 꼬리를 무는 형태로 반복
- 코들린 고유의 tailrec 키워드 사용
 

## 3-6 함수와 함수의 범위
